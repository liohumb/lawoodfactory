{% extends 'base.html.twig' %}

{% block title %}Commentaires • L&A WoodFactory{% endblock %}

{% block content %}
    <section class="account section" id="account">
        <h2 class="account__title">Vos produits</h2>
        <a href="{{ path('admin') }}" class="account__back"><i class='bx bx-arrow-back'></i></a>
        <h3 class="account__subtitle">{{ app.user.firstname }}, c'est dans cet espace que vous allez pouvoir voir, activer, désactiver et supprimer un commentaire.</h3>

        <div class="account__comment-container">
            <ul class="responsive-table">
                <li class="table-header">
                    <div class="col col-1">Activer</div>
                    <div class="col col-2">Commentaire</div>
                    <div class="col col-3">À propos de</div>
                    <div class="col col-4">De</div>
                    <div class="col col-5"> </div>
                </li>
                {% for comment in comments %}
                    <li class="table-row">
                        <div class="col col-1" data-label="Activer">
                            {% if comment.active == 0 %}
                                <a href="{{ path('admin_comment_active', {id: comment.id}) }}"><i class='bx bx-message-x' ></i></a>
                            {% else %}
                                <a href="{{ path('admin_comment_active', {id: comment.id}) }}"><i class='bx bx-message-check' ></i></a>
                            {% endif %}
                        </div>
                        <div class="col col-2" data-label="Commentaire">{{ comment.content | u.truncate(32, '...') }}</div>
                        <div class="col col-3" data-label="À propos de"><a href="{{ path('product_show', {slug: comment.product.slug}) }}#{{ comment.id }}">{{ comment.product.title }}</a></div>
                        <div class="col col-4" data-label="De">{{ comment.user.firstname }} {{ comment.user.lastname }}</div>
                        <div class="col col-5" data-label=" "><a href="{{ path('admin_comment_delete', {id: comment.id}) }}"><i class='bx bx-trash'></i></a></div>
                    </li>
                {% endfor %}
            </ul>
        </div>
    </section>
{% endblock %}
